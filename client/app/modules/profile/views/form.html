<h4>
  <a href="" ui-sref="^.list" class="btn btn-default"><i class="fa fa-arrow-left"></i>Back</a><br/>
  <span ng-show="!profile.id" translate>Add a new profile</span>
  <span ng-show="profile.id" translate>Edit profile</span>
</h4>


<div class="container col-lg-12 col-md-12">
  <div class="alert alert-danger" ng-if="addError" translate>Could not add profile!</div>
  <tabset class="nav-tabs-custom">
    <tab heading="{{ 'Profile' | translate }}">
      <button class="btn btn-info fa fa-plus" ng-click="toggleBase()">Add / Edit Profile</button>
      <div class="row tab-pane"   ng-hide="hideBase">
        <!--  contact for email here ??? -->
        <formly-form result="profile.profile.user" fields="formFields" id="userForm" options="formOptions" ng-submit="onSubmit()"></formly-form>
        <pre>
          {{ profile.profile.user | json}}

          {{ $scope.currentUser | json}}

        </pre>
        <div class="controls">
          <button class="btn btn-primary btn-success" ng-click="onSubmit()" translate>Submit</button>
        </div>
      </div>

      <table class="table table-hover">
        <tbody>
          <tr  ng-repeat="contact in profile.profile.contact" class="list-group-item">
            <td class="text-center">
              <div class="checkbox margin-t-0">
                <input id="checkbox1" type="checkbox">
                <label for="checkbox1"></label>
              </div>
            </td>
            <td>{{contact.emailAddress}}</td>
            <td> <button class="btn btn-warning "  ng-click="editEmail(contact)">Edit</button> </td>
          </tr>
        </tbody>
      </table>
    </tab>
    <!-- <tab heading="{{ 'Credentials' | translate }}">
      <div class="row tab-pane">

        <formly-form result="profile.profile.edu" fields="formFields2" options="formOptions" ng-submit="onSubmit2()"></formly-form>
        <pre>
          {{ profile.profile.edu | json}}
        </pre>

        <div class="controls">
          <button class="btn btn-primary btn-success" ng-click="onSubmit2()" translate>Add Credials</button>
        </div>
      </div>

      <table class="table table-hover">
        <thead>
          <tr>
            <td class="text-center"><i class="fa fa-trash"></i></td>
            <td>Degree</td>
            <td>Dates</td>
            <td>Name</td>
            <td>Desc</td>
            <td></td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-center">
              <div class="checkbox margin-t-0">
                <input id="checkbox1" type="checkbox">
                <label for="checkbox1"></label>
              </div>
            </td>
            <td>BS - Computer Engineering</td>
            <td>2002</td>
            <td>Stanford University</td>
            <td>http://www.stanford.edu</td>
            <td> <button class="btn btn-warning ">Edit</button> </td>
          </tr>
        </tbody>
      </table>

    </tab> -->
    <tab heading="{{ 'Experience' | translate }}">
        <button class="btn btn-info fa fa-plus" ng-click="toggleWork()">Add / Edit Experience</button>
      <div class="row tab-pane"   ng-hide="hideWork">

        <formly-form result="WorkRecord" fields="formFields3" options="formOptions" ng-submit="onSubmit3()"></formly-form>
        <!-- <pre>

          {{ WorkRecord | json }}
          {{ profile.profile.work | json}}
        </pre> -->
        <div class="controls">
          <button class="btn btn-primary btn-success" ng-click="onSubmit3()" translate>Add New Experience </button>
        </div>
      </div>

      <table class="table table-hover">
        <tbody>
          <tr ng-repeat="work in profile.profile.work" class="list-group-item">
            <td class="text-center">
              <div class="checkbox margin-t-0">
                <input id="checkbox1" type="checkbox">
                <label for="checkbox1"></label>
              </div>
            </td>
            <td>{{work.Type}}</td>
            <td>{{work.datestart}} to {{work.dateend}}</td>
            <td>{{work.companyname}}</td>
            <td>{{work.jobtitle}}</td>
            <td> <button class="btn btn-warning" ng-click="editWork(company)">Edit</button> </td>
          </tr>
        </tbody>
      </table>
    </tab>
    <tab heading="{{ 'Social' | translate }}">
        <button class="btn btn-info fa fa-plus" ng-click="toggleSocial()">Add New Social</button>
      <div class="row tab-pane "  ng-hide="hideSocial">
        <!--  contact for email here too -->
        <formly-form result="SocialRecord" fields="formFields4" options="formOptions" ng-submit="onSubmit4()"></formly-form>

        <div class="controls">
          <button class="btn btn-primary btn-success" ng-click="onSubmit4()" translate>Add Contact / Social Account</button>
        </div>
      </div>

      <table class="table table-hover">
        <tbody>
           <tr  ng-repeat="social in profile.profile.social" class="list-group-item">
             <td class="text-center">
               <div class="checkbox margin-t-0">
                 <input id="checkbox1" type="checkbox">
                 <label for="checkbox1"></label>
               </div>
             </td>
             <td>{{social.Type}} : {{social.Value}}</td>
             <td>{{social.URL}}</td>
             <td> <button class="btn btn-warning " ng-click="editSocial(social)">Edit</button> </td>
           </tr>
           <tr>
        </tbody>
      </table>
    </tab>

    <tab heading="{{ 'Companies' | translate }}">
        <button class="btn btn-info fa fa-plus" ng-click="toggleCompany()">Add New Social</button>
      <div class="row tab-pane "  ng-hide="hideCompany">
        <!--  contact for email here too -->
        <formly-form result="CompanyRecord" fields="formFields5" options="formOptions" ng-submit="onSubmit5()"></formly-form>

        <div class="controls">
          <button class="btn btn-primary btn-success" ng-click="onSubmit5()" translate>Add Company Relations</button>
        </div>
      </div>

      <table class="table table-hover">
        <tbody>
           <tr  ng-repeat="company in profile.profile.companies" class="list-group-item">
             <td class="text-center">
               <div class="checkbox margin-t-0">
                 <input id="checkbox1" type="checkbox">
                 <label for="checkbox1"></label>
               </div>
             </td>
             <td>{{company.Name}} </td>
             <td>{{company.URL}}</td>
             <td> <button class="btn btn-warning"   ng-click="editCompany(company)" >Edit</button> </td>
           </tr>
           <tr>
        </tbody>
      </table>
    </tab>

  </tabset>
</div>
